## CHAPTER 3. 프로세스 관리



### 01 개념 및 유형

* **프로세스** : CPU와 메모리를 할당받아 실행시키는 프로그램
  * 프로세스마다 고유의 프로세스 ID(PID)를 할당받는다
  * 가장 먼저 실행되는 init 프로세스 PID = 1
* **새로운 프로세스를 생성**하는 방법
  * **fork()** 함수 : 기존 프로세스를 **복제**하는 방식 (부모 프로세스(원본), 자식 프로세스(복사본))
  * **exec()** 함수 : 호출하는 프로세스가 새로운 프로세스로 변경되는 방식 (**덮어쓰기**)
* **데몬** : 리눅스 부팅시, 자동으로 실행되는 백그라운드 프로세스
  * 메모리에 상주하면서 대기하다가 특정 요청이 올 때 실행되는 서버 프로세스
  * <u>주기적</u>이고 <u>지속적인 서비스</u> 요청을 처리하기 위해 실행된다
  * **standalone 데몬** : 독립적, 빠른 응답속도. 항상 메모리에 상주해서 서버 부하가 적음
  * **inetd 데몬 (슈퍼 데몬)** : 다른 데몬들의 상위 데몬. 독립 데몬이지만 다른 서비스 제어, 관리 . 리눅스 커널2.4 부터는 보안상의 이유로 xinetd로 대체
  * **inetd 타입 데몬** : 직접 서비스 가동 못함 inetd 데몬이 활성화 되야 함
* **시그널** : 프로세스에게 <u>이벤트 발생을 전달</u>해주는 소프트웨어 인터럽트
  * SIG_IGN (SIG_PF)1 : 시그널 무시
  * SIG_ERR (SIG_PF)-1 : 강제 종료
  * SIG_DFL (SIG_PF)0 : 시그널 처리 루틴 실행
  * SIG_HOLD (SIG_PF)2 : 시그널 블로킹



### 02 프로세스 유틸리티

* 프로세스 관련 명령어

  * **ps(process status)** : <u>실행 중인</u> 프로세스 상태 (cpu 사용도 낮은 순)

    = PID + TTY + TIME + CMD

  * **pstree** : <u>실행 중인</u> 프로세스들을 **트리구조**로 나타낸다

  * **jobs** : 작업이 중지된 상태, 백그라운드 진행 중인 상태, 변경했지만 보고안된 상태 등 표시

  * **bg와 fg** : 포그라운드, 백그라운드 전환

  * **kill** : 프로세스 종료

  * **killall** : 같은 데몬의 여러 프로세서를 한 번에 종료시킬 때 사용

  * **nice** : 우선순위 확인, 변경

    * NI값을 조정해서 우선순위 변경

      NI 범위 -20 (가장 높은 우선권) ~ 19 (가장 낮은 우선권)

    * 양수 : -    음수 : --

  * **renice** : <u>실행 중인</u> 프로세스의 <u>우선순위 변경</u>

  * **top** : 리눅스 시스템의 <u>운영 상태를 실시간을 모니터링</u>하거나 프로세스 상태를 확인 

  * **nohup** : 프로세스 작업을 <u>중단하지 않고</u>, 백그라운드 작업 수행 (백그라운드 명령: **&** 추가)

  * **tail** : 파일의 마지막 행을 기준으로 지정한 행까지 <u>파일 내용의 일부를 출력</u>

* **스케줄링과 cron** : <u>주기적으로 반복되는 일</u>을 <u>**자동**적으로 실행</u>될 수 있도록 설정한다

  * 표기법 : 분 + 시 + 날 + 달 + 요일 + 사용자 + 명령어
