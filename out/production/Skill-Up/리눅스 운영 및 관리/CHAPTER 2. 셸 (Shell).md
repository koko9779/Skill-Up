## CHAPTER 2. 셸 (Shell)



### 01 개념 및 종류

* 셸 : **명령어 해석기** 

  * 커널에 전달
  * 대화식 인터페이스
  * 입출력 방향 재지정과 파이프 기능 제공
  * 포그라운드/백그라운드 프로세스를 실행

* **종류**

  * **본셸** (사용자 프롬프트 : **$**)

    * **본셸** (/bin/sh) : 유닉스에서 기본 셸로 사용
    * **콘셸** (/bin/ksh) 
    * **배쉬셸** (/bin/bash) : Linux **표준 셸**로 채택. 다양한 OS에서 가능. POSIX 호환 가능
    * **지셸** (/bin/zsh) : 강력한 history 기능

  *  **C셸** (사용자 프롬프트 : **%**)  = 본셸 + history + alias

    * **C셸** (/bin/csh) : C언어 특징을 많이 포함. 다양한 프로그래밍 작성

    * **tc셸** (/bin/tcsh) : 명령어 편집 기능 제공. 자동 완성, 로그아웃. 

      ​                              로그인 상태, 사용자, 터미널 모니터링. 새로운 환경변수

* **로그인 셸 확인 방법** 

  * **/etc/shells** 에서 사용할 수 있는 셸을 확인
  * **/etc/passwd** 파일에서 계정마다 할당된 셸을 확인
  * 명령어 '**echo $SHELL**' 을 통해서 현재 로그인한 사용자가 사용하고 있는 셸 확인

* 명령어 **chsh** : <u>셸 변경</u>

*  명령어 **usermod** : <u>관리자 환경에서</u> 지정된 계정의 정보를 <u>변경</u>



### 02 환경 설정

* **환경 변수 (전역 변수)**
  * 서브 셸 기능 **상속** **가능**
  * 환경 변수 확인 명령 : **env**
* **셸 변수 (지역 변수)**
  * 서브 셸 기능 **상속** **불가능**
  * 셸 변수 확인 명령 : **set**

* 프롬프트 설정 형식

  * **\W** : 현재 경로 중 <u>마지막 디렉터리</u> 표시
  * **\w** : <u>현재 작업 디렉터리</u> 절대 경로 표시
  * \s : 셸 이름 표시
  * \u : 사용자 이름
  * \h : 호스트 이름
  * \t : 24시로 현재 시간 표시

* bash 셸 관련 설정 파일

  * 전역 설정 파일

    * **/etc/profile** : **관리자**가 설정하는 <u>모든 셸</u> 환경 제어 설정
    * /etc/bashrc : 별칭과 bash 수행 시 실행되는 함수 전역으로 제어

  * 지역 설정 파일

    * **~/.bash_profile** : 로그인시 로딩. **개인 사용자**의 셸 환경 제어 설정
    * ~/.bash_history 
    * ~/.bash**rc** : 별칭과 bash 수행 시 실행되는 함수 지역적으로 **제어**
    * ~/.bash_logout : 로그아웃 직전 실행

  * History 기능

    * .bash_history 에 저장해 두고 다시 불러서 사용

      

    * **!!** : <u>마지막으로 실행했던 명령문 실행</u>

    * !n : n번째 명령어 실행

    * ~-n : 현재 명령어에서 n 개수를 뺀 행의 명령어 실행

    * !string : 최근에 <u>string으로 시작</u>하는 명령문 실행

    * **!?string?** : 최근에 <u>string을 포함</u>하고 있는 단어를 나타냄

      

    * **HISTSIZE** : 스택 크기 지정

    * HISTFILE : 파일 위치

    * HISTFILESIZE : 파일 크기

    * **HISTTIMEFORMAT** : 수행 시간 출력 형태 지정

    * HISCONTROL : <u>중복</u>되는 명령어 <u>유무</u> 지정
